# A static app's configuration file. Used for local debugging.
webhook:
  CertRotatorConfiguration:
    SecretName: "azure-defender-proxy-cert"
    ServiceName: "azure-defender-proxy-service"
    WebhookName: "azure-defender-proxy-mutating-webhook-configuration"
    CaName: "azure-defender-proxy-ca"
    CaOrganization: "azure-defender-proxy"
    CertDir: "/certs"
    Namespace: "kube-system"
  ManagerConfiguration:
    Port: 8000
    CertDir: "/certs"
  ServerConfiguration:
    Path: "/mutate"
    EnableCertRotation: true
  HandlerConfiguration:
    DryRun: false
    Namespace: "kube-system"
instrumentation:
  trace:
    tracerConfiguration:
      tracerLevel: 0
  tivan:
    tivanInstrumentationConfiguration:
      componentName: "azdproxy"
      mdmNamespace: "Tivan.Collector.Pods"

azdIdentity:
  envAzureAuthorizerConfiguration:
    isLocalDevelopmentMode: true
    mSIClientId: "" # This should be kept empty while you are running the service locally.

kubeletIdentity:
  envAzureAuthorizerConfiguration:
    isLocalDevelopmentMode: true
    mSIClientId: "" # This should be kept empty while you are running the service locally.

acr:
  craneWrappersConfiguration:
    retryPolicyConfiguration:
      retryAttempts: 3
      retryDuration: "10ms"

arg:
  argBaseClient:
    retryPolicyConfiguration:
      retryAttempts: 3
      retryDuration: "100ms"
