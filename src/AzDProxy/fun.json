AzDProxy is starting...
{
    "level": "info",
    "ts": 1624319415.6896062,
    "logger": "setup",
    "msg": "Constants:",
    "dns_name": "azure-defender-proxy-service.default.svc",
    "port": 443,
    "certDir": "/certs",
    "disableCertRotation": false,
    "offline": false,
    "dryRun": false,
    "webhooks": [
        {
            "Name": "azure-defender-proxy-mutating-webhook-configuration",
            "Type": 1
        }
    ]
}
{
    "level": "info",
    "ts": 1624319416.1446211,
    "logger": "controller-runtime.metrics",
    "msg": "metrics server is starting to listen",
    "addr": ":8080"
}
{
    "level": "info",
    "ts": 1624319416.1452987,
    "logger": "setup",
    "msg": "setting up cert rotation"
}
{
    "level": "info",
    "ts": 1624319416.145616,
    "logger": "setup",
    "msg": "starting manager and backgorund"
}
{
    "level": "info",
    "ts": 1624319416.1459024,
    "logger": "setup",
    "msg": "waiting for cert rotation setup"
}
{
    "level": "info",
    "ts": 1624319416.1464877,
    "logger": "setup.controller.cert-rotator",
    "msg": "Starting EventSource",
    "source": {}
}
{
    "level": "info",
    "ts": 1624319416.146187,
    "logger": "setup",
    "msg": "starting metrics server",
    "path": "/metrics"
}
{
    "level": "info",
    "ts": 1624319416.1462545,
    "logger": "cert-rotation",
    "msg": "starting cert rotator controller"
}
{
    "level": "info",
    "ts": 1624319416.1469347,
    "logger": "setup.controller.cert-rotator",
    "msg": "Starting EventSource",
    "source": {}
}
{
    "level": "info",
    "ts": 1624319416.1469674,
    "logger": "setup.controller.cert-rotator",
    "msg": "Starting Controller"
}
{
    "level": "info",
    "ts": 1624319416.24855,
    "logger": "setup.controller.cert-rotator",
    "msg": "Starting workers",
    "worker count": 1
}
{
    "level": "info",
    "ts": 1624319416.2489676,
    "logger": "cert-rotation",
    "msg": "Ensuring CA cert",
    "name": "azure-defender-proxy-mutating-webhook-configuration",
    "gvk": "admissionregistration.k8s.io/v1, Kind=MutatingWebhookConfiguration",
    "name": "azure-defender-proxy-mutating-webhook-configuration",
    "gvk": "admissionregistration.k8s.io/v1, Kind=MutatingWebhookConfiguration"
}
{
    "level": "info",
    "ts": 1624319416.2494075,
    "logger": "cert-rotation",
    "msg": "no cert refresh needed"
}
{
    "level": "info",
    "ts": 1624319416.249546,
    "logger": "cert-rotation",
    "msg": "certs are ready in /certs"
}
{
    "level": "info",
    "ts": 1624319417.675218,
    "logger": "cert-rotation",
    "msg": "CA certs are injected to webhooks"
}
{
    "level": "info",
    "ts": 1624319417.6752613,
    "logger": "setup",
    "msg": "done waiting for cert rotation setup"
}
{
    "level": "info",
    "ts": 1624319417.6753616,
    "logger": "controller-runtime.webhook",
    "msg": "registering webhook",
    "path": "/mutate"
}
{
    "level": "info",
    "ts": 1624319417.6754174,
    "logger": "setup",
    "msg": "Webhook registered successfully",
    "path": "/mutate"
}
{
    "level": "info",
    "ts": 1624319417.675364,
    "logger": "controller-runtime.webhook.webhooks",
    "msg": "starting webhook server"
}
{
    "level": "info",
    "ts": 1624319417.675605,
    "logger": "controller-runtime.certwatcher",
    "msg": "Updated current TLS certificate"
}
{
    "level": "info",
    "ts": 1624319417.6757324,
    "logger": "controller-runtime.webhook",
    "msg": "serving webhook server",
    "host": "",
    "port": 443
}
{
    "level": "info",
    "ts": 1624319417.6827927,
    "logger": "controller-runtime.certwatcher",
    "msg": "Starting certificate watcher"
}